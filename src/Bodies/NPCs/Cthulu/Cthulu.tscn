[gd_scene load_steps=8 format=2]

[ext_resource path="res://Bodies/NPCs/NPC.tscn" type="PackedScene" id=1]
[ext_resource path="res://Bodies/Components/InteractionEvent.tscn" type="PackedScene" id=2]
[ext_resource path="res://Bodies/Components/Commands/Condition.tscn" type="PackedScene" id=3]
[ext_resource path="res://Bodies/Components/Commands/TextBox.tscn" type="PackedScene" id=4]
[ext_resource path="res://Bodies/Components/Commands/GiftItem.tscn" type="PackedScene" id=5]
[ext_resource path="res://Bodies/NPCs/Cthulu/Sprite.tscn" type="PackedScene" id=6]

[sub_resource type="RectangleShape2D" id=1]

custom_solver_bias = 0.0
extents = Vector2( 16, 16 )

[node name="Cthulu" index="0" instance=ExtResource( 1 )]

[node name="HitBox" parent="." index="0"]

polygon = PoolVector2Array( 0, 0, 8, -8, 8, -24, 0, -32, -8, -24, -8, -8 )

[node name="InteractionArea" type="CollisionShape2D" parent="Interaction" index="0"]

position = Vector2( 0, -16 )
shape = SubResource( 1 )

[node name="InteractionEvent" parent="Interaction" index="1" instance=ExtResource( 2 )]

[node name="Contition_Book" parent="Interaction/InteractionEvent" index="0" instance=ExtResource( 3 )]

check_if_player_has_item = 1
has_item = "Book"
check_if_npc_has_item = 0

[node name="TextBox" parent="Interaction/InteractionEvent/Contition_Book" index="0" instance=ExtResource( 4 )]

dialogue_text = "Cultist: This thing you are carrying, my dear, I can write symbols on the sand with it, can’t I?

Player: Um… I think so?

Cultist: Good. Then it shall serve me well. Can I have it?

Cultist: Of course, you’ll be rewarded. 

Player: Of course. What will you write with it?

Cultist: The ritual’s chant, so the Elder One might join us in this world.

Cultist: I moved to this planet after hearing about its origins and supernatural connections.

Cultist: Here, my home is closer to my beliefs.

Player: I’d rather not ask anything else.

Player: But sounds fun! Good luck with your new home… and your ritual. 

Cultist: You shall be saved with us, my dear. Take this amulet with you and you might be protected."

[node name="GiftItem" parent="Interaction/InteractionEvent/Contition_Book" index="1" instance=ExtResource( 5 )]

item_to_give = "Book"
who_to_give_item_to = "Cthulu"

[node name="Condition_Default" parent="Interaction/InteractionEvent" index="1" instance=ExtResource( 3 )]

check_if_player_has_item = 2
has_item = "Book"
check_if_npc_has_item = 1
npc_which = "Cthulu"
npc_which_item = "Book"

[node name="TextBox" parent="Interaction/InteractionEvent/Condition_Default" index="0" instance=ExtResource( 4 )]

dialogue_text = "Cultist: Thanks for the book."

[node name="Condition_Default2" parent="Interaction/InteractionEvent" index="2" instance=ExtResource( 3 )]

check_if_player_has_item = 0
check_if_npc_has_item = 2
npc_which = "Cthulu"
npc_which_item = "Book"

[node name="TextBox" parent="Interaction/InteractionEvent/Condition_Default2" index="0" instance=ExtResource( 4 )]

dialogue_text = "Cultist: Hello."

[node name="Sprite" parent="." index="2" instance=ExtResource( 6 )]

[node name="TalkIcon" parent="." index="3"]

position = Vector2( -1.69752, -34.3781 )


